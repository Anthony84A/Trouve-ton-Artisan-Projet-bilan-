<div class="fiche-artisan-content">
    <div class="main-block">
      <div class="block">
        <div class="content-bar red-bar"></div>
        
        <!-- Carte Artisan -->
        <div *ngIf="artisan" class="artisan-card-detail">
          <div class="artisan-card">
            <h3>{{ artisan.name }}</h3>
            <p><strong>Spécialisation :</strong> {{ artisan.specialty }}</p>
            <p><strong>Localisation :</strong> {{ artisan.location }}</p>
            <div class="rating">
              <span *ngFor="let starClass of getStars(artisan.note)">
                <i [ngClass]="starClass"></i>
              </span>
            </div>
            <p><strong>Site Web :</strong> <a [href]="artisan.website" target="_blank">{{ artisan.website }}</a></p>
          </div>
        </div>
  
        <!-- À propos -->
        <div class="about-block">
          <div class="content-bar green-bar"></div>
          <h4>À propos</h4>
          <p>{{ artisan?.about }}</p>
          <p><strong>Site Web :</strong> <a [href]="artisan?.website" target="_blank">{{ artisan?.website }}</a></p>
        </div>
  
        <!-- Contact -->
        <div class="contact-block">
          <div class="content-bar red-bar"></div>
          <h4>Contact</h4>
          <form [formGroup]="contactForm" (ngSubmit)="sendEmail()">
            <div class="form-group">
              <label for="name">Nom et Prénom</label>
              <input type="text" id="name" formControlName="name" required>
              <div *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
                Nom est requis.
              </div>
            </div>
            <div class="form-group">
              <label for="subject">Objet</label>
              <input type="text" id="subject" formControlName="subject" required>
              <div *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
                Objet est requis.
              </div>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" formControlName="message" required></textarea>
              <div *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
                Message est requis.
              </div>
            </div>
            <button type="submit" [disabled]="contactForm.invalid">Envoyer</button>
          </form>

          <div *ngIf="isEmailSent" class="success-message">
            Email envoyé avec succès !
          </div>
        </div>
      </div>
    </div>
  </div>
  